name: Auto Comment on Job Application

on:
  issues:
    types: [opened]

permissions:
  issues: write  # Allow the action to write comments on issues

jobs:
  add_comment:
    runs-on: ubuntu-latest
    steps:
      - name: Add a comment to the issue
        uses: actions/github-script@v7
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}  # Default GitHub token should work now
          script: |
            github.rest.issues.createComment({
              owner: context.repo.owner,
              repo: context.repo.repo,
              issue_number: context.payload.issue.number,
              body: `
              ### Thank you for your application! ðŸŽ‰  
              
              ## âœ… What's next?
              **Read & Familiarize Yourself with Our Guidelines**  
                 - [ðŸ”— Holdex Guidelines](https://github.com/holdex/developers/blob/main/.github/CONTRIBUTING.md)  

              ---
              ## ðŸŽ¯ Trial Phase
              After this step, you will begin your **Trial**, which consists of two tasks:

              - **Submit Your Profile Through a PR**  
                - The PR must follow our [Guidelines](https://github.com/holdex/developers/blob/main/.github/CONTRIBUTING.md).  
                - A PR that doesnâ€™t follow the Guidelines will result in rejection.

              - **Complete a Technical Task**  
                - This will be assigned manually by **Mark Curchin** (@markholdex).
              &nbsp
              If you have any questions, feel free to ask in this issue!`
            });
